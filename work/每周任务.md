# **待处理的问题**
	1. 保通小程序第一次登陆时，发送验证码 非法操作	
	2. 天源官网登录是非法操作---- 已解决域名问题，生产前端识别为了测试环境
	3. 图片验证码接入 --- 后端已完成
	4. 账户account模型，改造 --- 开发中				
	5. OAuth 认证协议  
	6. 保单导出新增：商户端车险订单下载：
		厂牌型号：vehicleModelName
		发动机号：vehicleDTO.engineNo
		初登日期: registerDate 
		车主手机号码: ownerMobile
		被保人手机号码：insuredMobile
		收件人姓名：addresseeName
		收件人手机号：addresseeMobile
		收件人地址：addresseeDetails
	7. 保险从业证书号码校验调整--- 代码移动到customer 中 --- 暂时未完成
	
	8. proxy-customer 熔断策略改造
	
	9. 对公修复商户名称时合同未同步
	
	10. 产品合同申请流程改造及为申请通过的处理
	


## *账号手机号改造*
	1. 出单员创建时，此时如果没有手机号 如何编辑 ？ 查询列表 怎么展示手机号 和 账户；创建是 默认只能有手机号；
	



## *合同申请流程**

	后台合同审批申请通过： subao-proxy-saas/saas/console/audit/submit
	
	审批流回调接口：/customer/nofify/flowTask/receiver
	
	产品申请合同：
	对公商户可能存在对公商户合同不存在的情况，此时产品审批通过后最终状态未修改
```sql
SELECT * FROM `subao_cooperator_product` t WHERE t.`cooperator_id` = 'k1055oqw' AND t.`product_id` = '10459';
SELECT * FROM `subao_cooperator_apply` t WHERE t.`cooperator_id` = 'k1055oqw';
SELECT * FROM `subao_flow_task` t WHERE t.id = '535026';
-- 流程接入合作方表
SELECT * FROM `subao_flow_partner` t WHERE t.id = '1001'
-- 流程表
SELECT * FROM `subao_flow` t WHERE t.flow_partner_id = '1001'
-- 涉及的审批角色
SELECT * FROM `subao_flow_node`t WHERE t.flow_partner_id = '1001' AND t.flow_id = '1001';
-- 流程几点
SELECT * FROM `subao_flow_node`t WHERE id = '403021'
-- 涉及的审批节点
SELECT * FROM `subao_flow_processr` t WHERE t.`flow_id` = '399018'
-- 对公商户的合同
SELECT * FROM  subao_contract_coop t WHERE t.cmp_cert_no = '22222222222222'
```
	商户申请产品：subao-customer/coop/cloudProduct/apply
	
	
## 账户登录改造
	1. 登录校验器开发 ok
	2. 注册信息流程改造 ok /verifyCode/register
	3. 创建账号分布式锁
	
	


#fallback

	/coop/queryCoopAuthecnticationByCoopeId 重试2次，失败直接抛出异常  超时时间3s 
	
	/coop/bankCard/submit  重试2次，失败直接抛出异常  超时时间6s 	
	
	/isCoopUserAvailbale 重试2次 ，失败直接抛出异常  超时时间3s 
	
	/isNickNameExit  商户内出单员名称不能重复（接口不合理）
	
	/antifraud/login 接受服务失败，suceess 
	
	/message/send/sms 发送短信失败 规则码怎么通知 ，能否临时生成验证码，当做短信校验
	
	/promotionActivity/apply  默认返回成功，走异步消息

	/queryDomainBySaasCodeAndSoure 重试2次  走缓存  超时时间3s 
